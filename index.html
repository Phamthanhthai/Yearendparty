<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Táº¥t niÃªn Gia ÄÃ¬nh NhÃ  TÃ¡o</title>

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>

<style>
:root{
  --gold:#ffd666;
  --card:rgba(255,255,255,.10);
  --card2:rgba(255,255,255,.06);
  --text:#fff;
}
*{box-sizing:border-box}
html,body{
  margin:0;height:100%;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  color:var(--text);
  background:
    radial-gradient(1000px 600px at 10% -10%, rgba(255,214,102,.25), transparent 60%),
    radial-gradient(1000px 600px at 90% -10%, rgba(179,0,0,.35), transparent 60%),
    linear-gradient(180deg,#000,#120000);
}
.center{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}
.panel{
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
  border:1px solid rgba(255,255,255,.14);
  box-shadow:0 30px 70px rgba(0,0,0,.55);
  padding:22px;
  border-radius:18px;
  max-width:420px;
  width:100%;
  text-align:center;
  backdrop-filter: blur(10px);
}
h2{margin:0 0 10px}
input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(0,0,0,.15);
  color:#fff;
  margin-top:10px;
}
.btn{
  margin-top:12px;
  width:100%;
  padding:12px;
  border-radius:14px;
  border:none;
  font-weight:800;
  cursor:pointer;
  background:linear-gradient(90deg,var(--gold),#fff2a8);
  color:#4b2c00;
}
.btn.secondary{
  background:rgba(0,0,0,.25);
  color:#fff;
  border:1px solid rgba(255,255,255,.20);
}
.small{opacity:.78;font-size:13px;margin-top:8px;line-height:1.35}
.hidden{display:none}
.wrap{max-width:760px;margin:auto;padding:16px}
.invite{
  display:none;
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
  border:1px solid rgba(255,255,255,.14);
  padding:18px;
  border-radius:20px;
  box-shadow:0 30px 70px rgba(0,0,0,.55);
}
.top{text-align:center}
.badge{
  display:inline-block;
  padding:8px 16px;
  border-radius:999px;
  background:linear-gradient(90deg,var(--gold),#fff2a8);
  color:#4b2c00;
  font-weight:900;
}
.grid{margin-top:14px;display:grid;gap:10px}
.box{
  background:var(--card2);
  border:1px solid rgba(255,255,255,.12);
  padding:12px;
  border-radius:12px;
}
.box b{color:var(--gold)}
.countdown{
  margin-top:12px;
  display:flex;
  gap:10px;
  justify-content:center;
}
.timebox{
  min-width:92px;
  background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.14);
  border-radius:14px;
  padding:10px 12px;
}
.timebox .num{font-size:26px;font-weight:900}
.timebox .lbl{font-size:12px}
iframe.map{
  border-radius:14px;
  border:0;
  width:100%;
  height:260px;
  margin-top:12px;
}
canvas{position:fixed;inset:0;pointer-events:none}
</style>
</head>

<body>

<canvas id="fx"></canvas>

<!-- STEP 1 -->
<div class="center" id="step1">
  <div class="panel">
    <h2>ğŸ‰ Nháº­p tÃªn cá»§a báº¡n</h2>
    <div class="small">Chá»‰ dÃ nh cho: <b>Nga</b> â€¢ <b>HoÃ </b> â€¢ <b>Trang</b> â€¢ <b>ThÃ¡i</b></div>
    <input id="guestName" placeholder="VÃ­ dá»¥: ThÃ¡i"/>
    <button class="btn" id="btnNext">Tiáº¿p tá»¥c</button>
    <div class="small" id="err"></div>
  </div>
</div>

<!-- STEP 2 -->
<div class="center hidden" id="step2">
  <div class="panel">
    <h2 id="ask"></h2>
    <button class="btn" id="btnYes">CÃ³, mÃ¬nh tham gia ğŸŠ</button>
    <button class="btn secondary" id="btnNo">KhÃ´ng tham gia ğŸ˜¢</button>
  </div>
</div>

<!-- INVITE -->
<div class="wrap">
  <div class="invite" id="invite">
    <div class="top">
      <div class="badge">Táº¤T NIÃŠN GIA ÄÃŒNH NHÃ€ TÃO</div>
      <h2 id="guest"></h2>
      <p>Cuá»‘i nÄƒm rá»“i, mÃ¬nh háº¹n nhau tá»¥ há»p Äƒn uá»‘ng & tÃ¡m chuyá»‡n cho vui â¤ï¸</p>

      <div class="countdown">
        <div class="timebox"><div class="num" id="d">00</div><div class="lbl">NgÃ y</div></div>
        <div class="timebox"><div class="num" id="h">00</div><div class="lbl">Giá»</div></div>
        <div class="timebox"><div class="num" id="m">00</div><div class="lbl">PhÃºt</div></div>
        <div class="timebox"><div class="num" id="s">00</div><div class="lbl">GiÃ¢y</div></div>
      </div>
      <div class="small" id="countHint"></div>
    </div>

    <div class="grid">
      <div class="box">ğŸ“ <b>Äá»‹a Ä‘iá»ƒm:</b> Linh ChÃ¡o (Äá»“i Rada)</div>
      <div class="box">â° <b>Giá»:</b> 19h30</div>
      <div class="box">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ <b>NhÃ³m:</b> Gia ÄÃ¬nh NhÃ  TÃ¡o</div>
      <div class="box">âœ… <b>Tráº¡ng thÃ¡i:</b> <span id="statusText"></span></div>
    </div>

    <iframe class="map"
      src="https://www.google.com/maps?q=Linh%20Ch%C3%A1o%20%C4%90%E1%BB%93i%20Rada&output=embed">
    </iframe>

    <div class="small" style="text-align:center;margin-top:10px">
      â³ 19h30 ngÃ y <b>14/02</b> â€¢ <b>27 Ã¢m</b>
    </div>
  </div>
</div>

<script>
/* ================= FIREWORK ================= */
const cv=document.getElementById("fx"),ctx=cv.getContext("2d");
function rs(){cv.width=innerWidth;cv.height=innerHeight}
rs();addEventListener("resize",rs);
let parts=[];
function boom(x,y){
  for(let i=0;i<70;i++)
    parts.push({x,y,a:Math.random()*6.28,s:Math.random()*5+2});
}
(function anim(){
  ctx.clearRect(0,0,cv.width,cv.height);
  parts.forEach(p=>{
    p.x+=Math.cos(p.a)*p.s;
    p.y+=Math.sin(p.a)*p.s;
    p.s*=.95;
    ctx.fillStyle="gold";
    ctx.fillRect(p.x,p.y,3,3);
  });
  parts=parts.filter(p=>p.s>.6);
  requestAnimationFrame(anim);
})();

/* ================= COUNTDOWN FIXED ================= */
// âš ï¸ Äá»”I NÄ‚M Náº¾U Cáº¦N
const TARGET = new Date(2026,1,14,19,30,0,0);

const dEl=d,hEl=h,mEl=m,sEl=s;
function pad(n){return String(n).padStart(2,"0")}
function tick(){
  const now=new Date();
  let diff=TARGET-now;

  if(diff<=0){
    dEl.textContent=hEl.textContent=mEl.textContent=sEl.textContent="00";
    countHint.textContent="ğŸ‰ ÄÃ£ tá»›i giá» 19h30 (14/02 â€¢ 27 Ã¢m)";
    return;
  }
  const sec=Math.floor(diff/1000);
  dEl.textContent=pad(Math.floor(sec/86400));
  hEl.textContent=pad(Math.floor(sec%86400/3600));
  mEl.textContent=pad(Math.floor(sec%3600/60));
  sEl.textContent=pad(sec%60);
  countHint.textContent="â³ Äáº¿m ngÆ°á»£c tá»›i 19h30 (14/02 â€¢ 27 Ã¢m)";
}
setInterval(tick,1000);tick();

/* ================= FLOW ================= */
const allow=["nga","hoa","trang","thai"];
function norm(s){return s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/Ä‘/g,"d")}
btnNext.onclick=()=>{
  const raw=guestName.value.trim();
  if(!allow.includes(norm(raw))){
    err.textContent="TÃªn nÃ y khÃ´ng náº±m trong danh sÃ¡ch ğŸ˜Š";return;
  }
  step1.classList.add("hidden");
  step2.classList.remove("hidden");
  ask.textContent=`${raw} Æ¡i, tá»‘i nay Ä‘i táº¥t niÃªn nhÃ©?`;
}
btnYes.onclick=()=>finish(true);
btnNo.onclick=()=>finish(false);
function finish(ok){
  step2.classList.add("hidden");
  invite.style.display="block";
  guest.textContent=`${guestName.value} thÃ¢n máº¿n`;
  statusText.textContent=ok?"CÃ³ tham gia ğŸ‰":"KhÃ´ng tham gia ğŸ˜¢";
  if(ok) boom(innerWidth/2,innerHeight/2);
}
</script>

</body>
</html>
